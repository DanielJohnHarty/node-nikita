// Generated by CoffeeScript 2.5.1
// # `nikita.ping`

// Call ping, receive pong.

// This constitutes a dummy action created for demonstration purposes.

// ## Options

// * `content` (string)   
//   Message to broadcast, default to "pong".   

// ## Callback Parameters

// *   `err` (error)   
//     Error object if assertion failed.   
// *   `status` (boolean)   
//     Always "true".   
// *   `message` (string)   
//     The content options.   

// ## Example

// Status is always true and the default message is "pong".

// ```js
// require('nikita')
// .ping( {status, message} =>
//   assert(status, true)
//   assert(message, 'pong')
// )
// ```

// A custom message can be provided:

// ```js
// require('nikita')
// .ping({
//   content: 'lorem ipsum'
// }, {message} => 
//   assert(message, 'lorem ipsum')
// )
// ```

// ## Source Code
module.exports = function({options}, callback) {
  this.log({
    message: "Entering ping",
    level: 'DEBUG',
    module: 'nikita/lib/assert'
  });
  if (options.content == null) {
    options.content = 'pong';
  }
  return setImmediate(() => {
    this.log({
      message: `Sending ${options.content}`,
      level: 'DEBUG',
      module: 'nikita/lib/assert'
    });
    return callback(null, {
      status: true,
      message: options.content
    });
  });
};
