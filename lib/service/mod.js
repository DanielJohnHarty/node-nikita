// Generated by CoffeeScript 2.0.3
// # `nikita.system.mod`

// Load a kernel module.

// ## Options

// *   `name` (string)
//     Name of the module.

// ## Example

// require('nikita').system.mod({
//   name: 'vboxpci'
// })
module.exports = function(options) {
  if (options.argument != null) {
    options.name = options.argument;
  }
  if (!options.name) {
    throw Error("Required Option: name");
  }
  return this.system.execute({
    cmd: `lsmod | grep ${options.name} && exit 3\nsudo modprobe ${options.name}`,
    code_skipped: 3
  });
};
