// Generated by CoffeeScript 1.10.0
module.exports = function(options, callback) {
  if (!options.name) {
    return callback(new Error("Missing required option 'name'"));
  }
  if (options.code_started == null) {
    options.code_started = 0;
  }
  if (options.code_stopped == null) {
    options.code_stopped = 3;
  }
  return this.execute({
    cmd: "service " + options.name + " status",
    code: options.code_started,
    code_skipped: options.code_stopped
  }, function(err, started) {
    if (err) {
      return callback(err);
    }
    options.store["mecano.service." + options.name + ".status"] = started ? 'started' : 'stopped';
    return callback(null, started);
  });
};
