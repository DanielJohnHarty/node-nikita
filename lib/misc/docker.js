// Generated by CoffeeScript 1.10.0
var mecano;

mecano = require('..');

module.exports.wrap = function(options, cmd) {
  return "export SHELL=/bin/bash\nexport PATH=/opt/local/bin/:/opt/local/sbin/:/usr/local/bin/:/usr/local/sbin/:$PATH\nbin_boot2docker=$(command -v boot2docker)\nbin_docker=$(command -v docker)\nbin_machine=$(command -v docker-machine)\ndocker=''\nif [ $bin_machine ]; then\n    if [ \"" + (options.machine || '--') + "\" = \"--\" ];then exit 5; fi\n    docker=\"eval \\$(\\${bin_machine} env " + options.machine + ") && $bin_docker\"\nelif [  $bin_boot2docker ]; then\n    docker=\"eval \\$(\\${bin_boot2docker} shellinit) && $bin_docker\"\nelse\n  docker=\"$bin_docker\"\nfi\neval $docker " + cmd;
};

module.exports.callback = function(callback, err, executed, stdout, stderr) {
  if (err) {
    return callback(Error(stderr.trim().replace('Error response from daemon: ', '')));
  }
  return callback(err, executed, stdout, stderr);
};
