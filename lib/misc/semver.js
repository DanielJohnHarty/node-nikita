// Generated by CoffeeScript 1.12.5
var crypto;

crypto = require('crypto');

module.exports = {
  sanitize: function(versions, fill) {
    var _, i, is_array, j, k, len, ref, version;
    if (fill == null) {
      fill = 'x';
    }
    is_array = Array.isArray(versions);
    if (!is_array) {
      versions = [versions];
    }
    for (i = j = 0, len = versions.length; j < len; i = ++j) {
      version = versions[i];
      version = version.split('.');
      version = version.slice(0, 3);
      for (_ = k = 0, ref = 3 - version.length; 0 <= ref ? k < ref : k > ref; _ = 0 <= ref ? ++k : --k) {
        version.push(fill);
      }
      version = version.map(function(v) {
        if (!isNaN(parseInt(v))) {
          return "" + (parseInt(v));
        }
        if (/\d+-\d+/.test(v)) {
          v = v.split('-')[0];
        }
        return v;
      });
      versions[i] = version.join('.');
    }
    if (is_array) {
      return versions;
    } else {
      return versions[0];
    }
  },
  satisfies: require('semver').satisfies
};
