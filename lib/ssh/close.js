// Generated by CoffeeScript 2.1.1
// # `nikita.ssh.close(options, [callback])`

// Close the existing connection if any.

// ## Options

// There are no options.

// ## Source code
module.exports = {
  handler: function(options, callback) {
    options.log({
      message: "Entering ssh.close",
      level: 'DEBUG',
      module: 'nikita/lib/ssh/close'
    });
    if (!options.store.ssh) {
      return callback();
    }
    options.store.ssh.end();
    options.store.ssh.on('error', function(err) {
      return callback(err);
    });
    options.store.ssh.on('end', function() {
      return callback(null, true);
    });
    return options.store.ssh = void 0;
  }
};
