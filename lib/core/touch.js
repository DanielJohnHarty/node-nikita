// Generated by CoffeeScript 1.10.0
var fs;

module.exports = function(options, callback) {
  if (options.argument != null) {
    options.destination = options.argument;
  }
  if (!options.destination) {
    return callback(new Error("Missing destination: " + options.destination));
  }
  if (typeof options.log === "function") {
    options.log("Check if exists: " + options.destination);
  }
  return fs.exists(options.ssh, options.destination, (function(_this) {
    return function(err, exists) {
      if (err) {
        return callback(err);
      }
      if (exists) {
        return callback();
      }
      options.source = null;
      options.content = '';
      if (typeof options.log === "function") {
        options.log("Create a new empty file");
      }
      _this.write(options);
      return _this.then(callback);
    };
  })(this));
};

fs = require('ssh2-fs');
