// Generated by CoffeeScript 2.0.3
// # `nikita.kv.get(options, [callback])`

// ## Source Code
module.exports = {
  shy: true,
  handler: function(options, callback) {
    options.log({
      message: "Entering kv get",
      level: 'DEBUG',
      module: 'nikita/lib/core/kv/get'
    });
    if (options.engine && this.options.kv) {
      throw Error("Engine already defined");
    }
    if (!options.engine && !this.options.kv) {
      throw Error("No engine defined");
    }
    // @options.kv ?= options.engine
    return this.options.kv.get(options.key, function(err, value) {
      return callback(err, true, options.key, value);
    });
  }
};
