// Generated by CoffeeScript 1.9.1
var each, fs, glob, misc, wrap;

module.exports = function(options, callback) {
  return wrap(arguments, function(options, callback) {
    var modified;
    if (typeof options === 'string') {
      options = {
        source: options
      };
    }
    if (options.source == null) {
      options.source = options.destination;
    }
    if (options.source == null) {
      return callback(new Error("Missing source"));
    }
    modified = false;
    return glob(options.ssh, options.source, function(err, files) {
      if (err) {
        return callback(err);
      }
      return each(files).on('item', function(file, callback) {
        modified = true;
        return misc.file.remove(options.ssh, file, callback);
      }).on('both', function(err) {
        return callback(err, modified);
      });
    });
  });
};

fs = require('ssh2-fs');

each = require('each');

misc = require('./misc');

wrap = require('./misc/wrap');

glob = require('./misc/glob');
