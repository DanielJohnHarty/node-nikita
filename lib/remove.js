// Generated by CoffeeScript 1.9.3
var each, fs, glob, misc;

module.exports = function(options, callback) {
  var modified;
  if (typeof options === 'string') {
    options = {
      source: options
    };
  }
  if (options.source == null) {
    options.source = options.destination;
  }
  if (options.source == null) {
    return callback(new Error("Missing source"));
  }
  modified = false;
  return glob(options.ssh, options.source, function(err, files) {
    if (err) {
      return callback(err);
    }
    return each(files).run(function(file, callback) {
      modified = true;
      return misc.file.remove(options.ssh, file, callback);
    }).then(function(err) {
      return callback(err, modified);
    });
  });
};

fs = require('ssh2-fs');

each = require('each');

misc = require('./misc');

glob = require('./misc/glob');
