// Generated by CoffeeScript 1.12.6
var db;

module.exports = function(options) {
  var database, k, ref, v;
  if (options.db == null) {
    options.db = {};
  }
  ref = options.db;
  for (k in ref) {
    v = ref[k];
    if (options[k] == null) {
      options[k] = v;
    }
  }
  if (options.database == null) {
    options.database = options.argument;
  }
  if (!options.admin_username) {
    throw Error('Missing option: "admin_username"');
  }
  if (!options.admin_password) {
    throw Error('Missing option: "admin_password"');
  }
  database = options.database;
  delete options.database;
  return this.system.execute({
    cmd: db.cmd(options, "DROP DATABASE IF EXISTS " + database + ";"),
    code_skipped: 2
  });
};

db = require('../../misc/db');
