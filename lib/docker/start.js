// Generated by CoffeeScript 1.10.0
var docker, util,
  slice = [].slice;

module.exports = function(options, callback) {
  var cmd;
  if (options.container == null) {
    return callback(Error('Missing container parameter'));
  }
  cmd = 'start';
  if (options.attach) {
    cmd += ' -a';
  }
  cmd += " " + options.container;
  return this.docker_status(options, (function(_this) {
    return function(err, is_running) {
      if (is_running) {
        options.log({
          message: "Container already started " + options.container + " (Skipping)",
          level: 'INFO',
          module: 'mecano/lib/docker/start'
        });
      }
      if (err || is_running) {
        return callback(err, false);
      }
      options.log({
        message: "Starting container " + options.container,
        level: 'INFO',
        module: 'mecano/lib/docker/start'
      });
      return _this.execute({
        cmd: docker.wrap(options, cmd)
      }, function() {
        return docker.callback.apply(docker, [callback].concat(slice.call(arguments)));
      });
    };
  })(this));
};

docker = require('../misc/docker');

util = require('util');
